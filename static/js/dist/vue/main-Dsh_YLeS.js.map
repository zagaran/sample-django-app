{"version":3,"file":"main-Dsh_YLeS.js","sources":["../../../../src/directives/v-init.js","../../../../src/directives/index.js","../../../../src/components/index.js","../../../../src/main.js"],"sourcesContent":["import Vue from \"vue\";\n\nfunction set(context, path, value) {\n    /**\n     * set is a helper function which allows us to dynamically target and set values within an object, allowing\n     * v-init to interpret a model like 'listPullParams.housing_type' as context['listPullParams']['housing_type']\n     */\n    var pList = path.split('.')\n    if (pList.length > 2) { throw \"You cannot use v-init with a nest factor of > 2 e.g. a.b.c\" }\n    if (pList.length >= 2) {\n        // we are setting the value of pList[0][pList[1]] = value\n        var target = pList.shift();\n        if (context.$data[target] === undefined) {\n            context.$data[target] = {}\n        }\n        set(context[target], pList.join('.'), value);\n    }\n    else {\n       context[pList[0]] = value\n    }\n}\n\nconst initArgToModel = (arg) => {\n    // Convert v-init arg to v-model format\n    const fieldKeys = arg.split(':').map((key) => {\n        // convert each field key from kebab-case to camelCase\n        const camelChunks = key.split('-').map((chunk, i) => {\n            if (i === 0) { return chunk } //\n            return chunk.charAt(0).toUpperCase() + chunk.substring(1)\n        })\n        return camelChunks.join(\"\")\n    })\n    return fieldKeys.join('.')\n}\n\n\nconst VInit = [\n    // v-init automatically sets the data value on page load; the expression is given by the binding argument\n    'init',\n    {\n        beforeMount(el, binding, vNode) {\n            if (!binding.arg) {\n              console.log(el, binding, vNode)\n              throw new Error(\"You cannot use v-init without providing an argument.\")\n            }\n            const expression = initArgToModel(binding.arg)\n            set(binding.instance, expression, binding.value);\n            binding.instance.$nextTick(() => {binding.instance.$forceUpdate()});\n        }\n    }\n]\n\nexport default VInit;\n","const modules = import.meta.glob(\"./*.js\", { eager: true })\nconst components = {}\n\nfor (const path in modules) {\n  // Extract the file name without extension\n  const name = path.match(/\\.\\/(.*)\\.vue$/)[1]\n  components[name] = modules[path].default\n}\n\nexport default components\n","const modules = import.meta.glob(\"./*.vue\", { eager: true })\nconst components = {}\n\nfor (const path in modules) {\n  // Extract the file name without extension\n  const name = path.match(/\\.\\/(.*)\\.vue$/)[1]\n  components[name] = modules[path].default\n}\n\nexport default components\n","import directives from \"./directives\"\nimport components from \"./components\"\n\nconst MainVue = {\n  install: (app, options) => {\n    app.config.compilerOptions.whitespace = \"preserve\"\n\n    for (const componentName in components) {\n      const component = components[componentName]\n      app.component(componentName, component)\n    }\n\n    for (const directiveName in directives) {\n      const directive = directives[directiveName]\n      // arr[0] is name of directive, arr[1] is content\n      app.directive(directive[0], directive[1])\n    }\n  },\n}\n\nexport * from \"./directives\"\nexport * from \"./components\"\nexport default MainVue"],"names":["set","context","path","value","pList","split","length","target","shift","$data","join","VInit","beforeMount","el","binding","vNode","arg","console","log","Error","expression","map","key","chunk","i","charAt","toUpperCase","substring","instance","$nextTick","$forceUpdate","modules","Object","assign","__vite_glob_0_0","components","name","match","default","MainVue","install","app","options","config","compilerOptions","whitespace","componentName","component","directiveName","directives","directive"],"mappings":"AAEA,SAAAA,EAAAC,EAAAC,EAAAC,GAKA,IAAAC,EAAAF,EAAAG,MAAA,KACA,GAAAD,EAAAE,OAAA,EAAA,KAAA,6DACA,GAAAF,EAAAE,QAAA,EAAA,CAEA,IAAAC,EAAAH,EAAAI,aACA,IAAAP,EAAAQ,MAAAF,KACAN,EAAAQ,MAAAF,GAAA,CAAA,GAEAP,EAAAC,EAAAM,GAAAH,EAAAM,KAAA,KAAAP,EACA,MAEAF,EAAAG,EAAA,IAAAD,CAEA,CAEA,MAcAQ,EAAA,CAEA,OACA,CACA,WAAAC,CAAAC,EAAAC,EAAAC,GACA,IAAAD,EAAAE,IAEA,MADAC,QAAAC,IAAAL,EAAAC,EAAAC,GACA,IAAAI,MAAA,wDAEA,MAAAC,EAAAN,EAAAE,IArBAX,MAAA,KAAAgB,IAAAC,GAEAA,EAAAjB,MAAA,KAAAgB,IAAA,CAAAE,EAAAC,IACA,IAAAA,EAAAD,EACAA,EAAAE,OAAA,GAAAC,cAAAH,EAAAI,UAAA,IAEAjB,KAAA,KAEAA,KAAA,KAcAV,EAAAc,EAAAc,SAAAR,EAAAN,EAAAX,OACAW,EAAAc,SAAAC,UAAA,KAAAf,EAAAc,SAAAE,gBACA,2GChDMC,EAAUC,OAAAC,OAAA,CAAA,cAAAC,IACVC,EAAa,CAAA,EAEnB,IAAA,MAAWjC,KAAQ6B,EAAS,CAE1B,MAAMK,EAAOlC,EAAKmC,MAAM,kBAAkB,GAC1CF,EAAWC,GAAQL,EAAQ7B,GAAMoC,OACnC,CCPA,MAAMP,EAAUC,OAAAC,OAAA,CAAA,GACVE,EAAa,CAAA,EAEnB,IAAA,MAAWjC,KAAQ6B,EAAS,CAE1B,MAAMK,EAAOlC,EAAKmC,MAAM,kBAAkB,GAC1CF,EAAWC,GAAQL,EAAQ7B,GAAMoC,OACnC,CCJK,MAACC,EAAU,CACdC,QAAS,CAACC,EAAKC,KACbD,EAAIE,OAAOC,gBAAgBC,WAAa,WAExC,IAAA,MAAWC,KAAiBX,EAAY,CACtC,MAAMY,EAAYZ,EAAWW,GAC7BL,EAAIM,UAAUD,EAAeC,EAC/B,CAEA,IAAA,MAAWC,KAAiBC,EAAY,CACtC,MAAMC,EAAYD,EAAWD,GAE7BP,EAAIS,UAAUA,EAAU,GAAIA,EAAU,GACxC"}